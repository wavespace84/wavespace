# ğŸš¨ ì‹œì¥ì¡°ì‚¬ì„œ ì—…ë¡œë“œ ë””ë²„ê¹… ê°€ì´ë“œ

ì‹œì¥ì¡°ì‚¬ì„œ ì—…ë¡œë“œê°€ ì‹¤íŒ¨í•˜ëŠ” ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ë‹¨ê³„ë³„ ë””ë²„ê¹… ê°€ì´ë“œì…ë‹ˆë‹¤.

## ğŸ”§ ì¦‰ì‹œ í™•ì¸ì‚¬í•­

### 1. ë¸Œë¼ìš°ì € ì½˜ì†” í™•ì¸
`F12` â†’ `Console` íƒ­ì—ì„œ ë‹¤ìŒ ì •ë³´ë¥¼ í™•ì¸:

```javascript
// 1. Storage í—¬ìŠ¤ì²´í¬
checkStorageHealth()

// 2. ì „ì²´ ì‹œìŠ¤í…œ ìƒíƒœ í™•ì¸  
console.log('ì‹œìŠ¤í…œ ìƒíƒœ:', {
    hasWaveSupabase: !!window.WaveSupabase,
    hasMarketResearchSupabase: !!window.MarketResearchSupabase,
    currentUser: window.WaveSupabase?.currentUser,
    storageDisabled: window.MarketResearchSupabase?.storageDisabled
});

// 3. í…ŒìŠ¤íŠ¸ ì—…ë¡œë“œ
testFileUpload()
```

### 2. ì˜ˆìƒë˜ëŠ” ë¬¸ì œë“¤ê³¼ í•´ê²°ì±…

#### ë¬¸ì œ 1: "Storage ê¸°ëŠ¥ ë¹„í™œì„±í™”ë¨"
**ì›ì¸**: RLS ì •ì±… ë˜ëŠ” ë²„í‚· ê¶Œí•œ ë¬¸ì œ  
**í•´ê²°**: 
1. Supabase ëŒ€ì‹œë³´ë“œ â†’ Storage â†’ ì •ì±… í™•ì¸
2. `createBucketGuide()` ì‹¤í–‰í•˜ì—¬ ìˆ˜ë™ ë²„í‚· ìƒì„±

#### ë¬¸ì œ 2: "ì‚¬ìš©ì ì¸ì¦ ì‹¤íŒ¨"
**ì›ì¸**: ë¡œê·¸ì¸ë˜ì§€ ì•Šì€ ìƒíƒœ  
**í•´ê²°**: 
```javascript
// ìµëª… ë¡œê·¸ì¸ ì‹œë„
await window.WaveSupabase.getClient().auth.signInAnonymously()
```

#### ë¬¸ì œ 3: "RLS ì •ì±…ìœ¼ë¡œ ì¸í•œ ì—…ë¡œë“œ ì‹¤íŒ¨"
**ì›ì¸**: Storage í…Œì´ë¸” ì ‘ê·¼ ê¶Œí•œ ì—†ìŒ  
**í•´ê²°**: ì´ë¯¸ ì •ì±…ì´ ìƒì„±ë˜ì—ˆìœ¼ë¯€ë¡œ í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨

#### ë¬¸ì œ 4: "íŒŒì¼ í¬ê¸° ì´ˆê³¼"
**ì›ì¸**: 50MB ì œí•œ ì´ˆê³¼  
**í•´ê²°**: íŒŒì¼ í¬ê¸° í™•ì¸ í›„ ì••ì¶• ë˜ëŠ” ë¶„í• 

## ğŸ› ï¸ ë‹¨ê³„ë³„ ë””ë²„ê¹…

### Step 1: ì´ˆê¸°í™” ìƒíƒœ í™•ì¸
```javascript
window.MarketResearchSupabase.checkStorageHealth()
```

### Step 2: í…ŒìŠ¤íŠ¸ ì—…ë¡œë“œ ì‹¤í–‰
```javascript  
window.MarketResearchSupabase.testFileUpload()
```

### Step 3: ì‹¤ì œ íŒŒì¼ ì—…ë¡œë“œ í…ŒìŠ¤íŠ¸
- `test-storage-upload.html` í˜ì´ì§€ ì‚¬ìš©
- ì‘ì€ PDF íŒŒì¼ë¡œ í…ŒìŠ¤íŠ¸

### Step 4: ë¡œê·¸ ë¶„ì„
ì—…ë¡œë“œ ì‹œ ì½˜ì†”ì—ì„œ ë‹¤ìŒ ë¡œê·¸ í™•ì¸:
- `ğŸš€ íŒŒì¼ ì—…ë¡œë“œ ì‹œì‘`
- `ğŸ” ì¸ì¦ ìƒíƒœ`
- `ğŸ“¤ Storage ì—…ë¡œë“œ ì‹œì‘`
- `âœ… Storage ì—…ë¡œë“œ ì„±ê³µ` ë˜ëŠ” `âŒ Storage ì—…ë¡œë“œ ì‹¤íŒ¨`

## ğŸš‘ ê¸´ê¸‰ í•´ê²°ì±…

### ë°©ë²• 1: Storage ê°•ì œ ì¬í™œì„±í™”
```javascript
window.MarketResearchSupabase.storageDisabled = false;
window.MarketResearchSupabase.forceCreateBucket();
```

### ë°©ë²• 2: ìµëª… ì¸ì¦ìœ¼ë¡œ ì—…ë¡œë“œ
```javascript
// ìµëª… ë¡œê·¸ì¸
await window.WaveSupabase.getClient().auth.signInAnonymously();

// ì—…ë¡œë“œ ì¬ì‹œë„
// (íŒŒì¼ ì„ íƒ í›„ ì—…ë¡œë“œ ë²„íŠ¼ í´ë¦­)
```

### ë°©ë²• 3: ìˆ˜ë™ ë²„í‚· ìƒì„±
1. https://supabase.com/dashboard ì ‘ì†
2. í”„ë¡œì íŠ¸ â†’ Storage ë©”ë‰´
3. "Create bucket" í´ë¦­
4. ë²„í‚·ëª…: `market-research`
5. Public bucket ì²´í¬
6. ìƒì„± í›„ í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨

## ğŸ“ ë¬¸ì œ ë³´ê³ 

ìœ„ì˜ ëª¨ë“  ë°©ë²•ì´ ì‹¤íŒ¨í•  ê²½ìš°:

1. **ì½˜ì†” ë¡œê·¸ ì „ì²´ ë³µì‚¬** (`Ctrl+A`, `Ctrl+C`)
2. **ì˜¤ë¥˜ ë©”ì‹œì§€ ìŠ¤í¬ë¦°ìƒ·**
3. **ë¸Œë¼ìš°ì € ë° OS ì •ë³´**
4. **ì—…ë¡œë“œ ì‹œë„í•œ íŒŒì¼ ì •ë³´** (í¬ê¸°, í™•ì¥ì)

í•¨ê»˜ ë³´ê³ í•´ì£¼ì‹œë©´ ì •í™•í•œ ì›ì¸ì„ íŒŒì•…í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## âš¡ ìµœì‹  ìˆ˜ì •ì‚¬í•­ (ë°©ê¸ˆ ì ìš©ë¨)

1. âœ… Storage RLS ì •ì±… ìƒì„± ì™„ë£Œ
2. âœ… ë””ë²„ê¹… ë¡œê·¸ ëŒ€í­ ê°•í™”
3. âœ… ìµëª… ì‚¬ìš©ì ìë™ ì¸ì¦ ì¶”ê°€
4. âœ… ì‚¬ìš©ì ID null ë¬¸ì œ í•´ê²°
5. âœ… ì—ëŸ¬ ë¶„ì„ ë° í•´ê²° ê°€ì´ë“œ ì¶”ê°€

**ì´ì œ ì—…ë¡œë“œê°€ ì •ìƒì ìœ¼ë¡œ ì‘ë™í•´ì•¼ í•©ë‹ˆë‹¤!**