<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>분양자료 데이터센터 - WAVE SPACE</title>
    <!-- CSS 파일들 -->
    <link rel="stylesheet" href="common.css?v=7">
    <link rel="stylesheet" href="styles.css?v=7">
    <link rel="stylesheet" href="data-center.css?v=7">
    <link rel="stylesheet" href="mobile-fix.css?v=7">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- 기본 스크립트 -->
    <script src="preload.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- 전체 컨테이너 -->
    <div class="app-container">
        <!-- 사이드바 (동적 로드) -->

        <div id="sidebar-container">

            <!-- SidebarLoader가 동적으로 사이드바를 여기에 로드합니다 -->

        </div>

        <!-- 메인 콘텐츠 영역 -->
        <div class="main-container">

            <!-- 메인 콘텐츠 -->
            <main class="main-content">
                <div class="data-center-container">
                    <!-- 헤더 -->
                    <div class="page-header">
                        <h1 class="page-title">Data Center</h1>
                        <p class="page-subtitle">지역별 다양한 부동산 지표를 한눈에 확인해보세요</p>
                    </div>

                    <!-- 섹션 탭 -->
                    <div class="section-tabs">
                        <button class="tab-btn active" data-section="raw-data">
                            <i class="fas fa-chart-bar"></i>
                            Raw Data
                        </button>
                        <button class="tab-btn" data-section="news">
                            <i class="fas fa-newspaper"></i>
                            부동산 뉴스
                        </button>
                        <button class="tab-btn" data-section="bunyang-history" style="position: relative;">
                            <i class="fas fa-building"></i>
                            분양현장
                            <span class="participation-bubble">참여형 코너입니다</span>
                        </button>
                        <button class="tab-btn" data-section="recruit-notice">
                            <i class="fas fa-bullhorn"></i>
                            모집공고
                        </button>
                    </div>

                    <!-- Raw Data 섹션 -->
                    <section id="raw-data" class="data-section active">
                        <!-- Raw Data 탭 전용 필터와 배너 -->
                        <div class="filter-banner-container">
                        <!-- 필터 영역 (1/3 너비) -->
                        <div class="data-center-filters">
                            <!-- 지역선택 타이틀 -->
                            <div class="filter-title-row">
                                <div class="filter-title">
                                    <i class="fas fa-map-marker-alt"></i>
                                    지역선택
                                </div>
                            </div>
                            
                            <!-- 2단계 지역 선택 필드 -->
                            <div class="location-selector-group">
                                <div class="location-field">
                                    <label>광역시도</label>
                                    <select id="regionSelect" class="location-select">
                                        <option value="">전체</option>
                                        <option value="seoul">서울특별시</option>
                                        <option value="gyeonggi">경기도</option>
                                        <option value="incheon">인천광역시</option>
                                        <option value="busan">부산광역시</option>
                                        <option value="daegu">대구광역시</option>
                                        <option value="gwangju">광주광역시</option>
                                        <option value="daejeon">대전광역시</option>
                                        <option value="ulsan">울산광역시</option>
                                        <option value="sejong">세종특별자치시</option>
                                        <option value="gangwon">강원도</option>
                                        <option value="chungbuk">충청북도</option>
                                        <option value="chungnam">충청남도</option>
                                        <option value="jeonbuk">전라북도</option>
                                        <option value="jeonnam">전라남도</option>
                                        <option value="gyeongbuk">경상북도</option>
                                        <option value="gyeongnam">경상남도</option>
                                        <option value="jeju">제주특별자치도</option>
                                    </select>
                                </div>
                                
                                <div class="location-field">
                                    <label>시군구</label>
                                    <select id="districtSelect" class="location-select" disabled>
                                        <option value="">선택</option>
                                    </select>
                                </div>
                            </div>

                        </div>

                        <!-- 배너 영역 (2/3 너비) -->
                        <div class="banner-area">
                            <div class="banner-slider">
                                <div class="banner-slides">
                                    <div class="banner-slide active">
                                        <img src="images/banners/banner1.jpg" alt="배너 1" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'1200\' height=\'180\'%3E%3Crect width=\'1200\' height=\'180\' fill=\'%233080ff\'/%3E%3Ctext x=\'50%25\' y=\'50%25\' text-anchor=\'middle\' dy=\'.3em\' fill=\'white\' font-size=\'24\' font-family=\'Arial\'%3EBanner 1%3C/text%3E%3C/svg%3E'">
                                    </div>
                                    <div class="banner-slide">
                                        <img src="images/banners/banner2.jpg" alt="배너 2" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'1200\' height=\'180\'%3E%3Crect width=\'1200\' height=\'180\' fill=\'%2300c896\'/%3E%3Ctext x=\'50%25\' y=\'50%25\' text-anchor=\'middle\' dy=\'.3em\' fill=\'white\' font-size=\'24\' font-family=\'Arial\'%3EBanner 2%3C/text%3E%3C/svg%3E'">
                                    </div>
                                    <div class="banner-slide">
                                        <img src="images/banners/banner3.jpg" alt="배너 3" onerror="this.src='data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'1200\' height=\'180\'%3E%3Crect width=\'1200\' height=\'180\' fill=\'%23ff6b35\'/%3E%3Ctext x=\'50%25\' y=\'50%25\' text-anchor=\'middle\' dy=\'.3em\' fill=\'white\' font-size=\'24\' font-family=\'Arial\'%3EBanner 3%3C/text%3E%3C/svg%3E'">
                                    </div>
                                </div>
                                <div class="banner-dots">
                                    <span class="dot active" data-slide="0"></span>
                                    <span class="dot" data-slide="1"></span>
                                    <span class="dot" data-slide="2"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                        <h2 class="section-title">
                            <button class="excel-download-btn" onclick="downloadRawDataExcel()">
                                <i class="fas fa-file-excel"></i>
                                엑셀 다운로드
                            </button>
                        </h2>
                        
                        <!-- 통계 대시보드 -->
                        <div class="stats-dashboard">
                            
                            <!-- 청약기준 섹션 -->
                            <div class="stat-category">
                                <h3 class="category-title">
                                    <i class="fas fa-gavel"></i>
                                    청약기준
                                </h3>
                                <div class="stat-grid">
                                    <!-- 규제지역 현황 -->
                                    <div class="stat-card">
                                        <div class="stat-header">
                                            <i class="fas fa-exclamation-triangle"></i>
                                            <span>규제지역 현황</span>
                                        </div>
                                        <div class="stat-content">
                                            <div class="stat-value">
                                                <span class="main-value">해당</span>
                                                <span class="sub-value" style="color: #ff6b6b;">투기과열지구</span>
                                            </div>
                                            <div class="stat-detail">
                                                <span style="color: #ff6b6b;">✓ 투기과열지구</span>
                                                <span style="color: #ffb800;">✓ 조정대상지역</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- 1순위 통장기준 -->
                                    <div class="stat-card">
                                        <div class="stat-header">
                                            <i class="fas fa-piggy-bank"></i>
                                            <span>1순위 통장기준</span>
                                        </div>
                                        <div class="stat-content">
                                            <div class="stat-value">
                                                <span class="main-value">24개월</span>
                                                <span class="sub-value">청약통장</span>
                                            </div>
                                            <div class="stat-detail">
                                                <span>민영: 24개월</span>
                                                <span>국민: 12개월</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- 전매제한/거주의무 -->
                                    <div class="stat-card">
                                        <div class="stat-header">
                                            <i class="fas fa-lock"></i>
                                            <span>전매제한/거주의무</span>
                                        </div>
                                        <div class="stat-content">
                                            <div class="stat-value">
                                                <span class="main-value">8년</span>
                                                <span class="sub-value">전매제한</span>
                                            </div>
                                            <div class="stat-detail">
                                                <span>전매제한: 8년</span>
                                                <span>거주의무: 5년</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- 거주의무기간 -->
                                    <div class="stat-card">
                                        <div class="stat-header">
                                            <i class="fas fa-home"></i>
                                            <span>거주의무기간</span>
                                        </div>
                                        <div class="stat-content">
                                            <div class="stat-value">
                                                <span class="main-value">5년</span>
                                                <span class="sub-value">실거주 의무</span>
                                            </div>
                                            <div class="stat-detail">
                                                <span>민영: 5년</span>
                                                <span>공공: 3년</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 수요분석 섹션 -->
                            <div class="stat-category">
                                <h3 class="category-title">
                                    <i class="fas fa-chart-pie"></i>
                                    수요분석
                                </h3>
                                <div class="stat-grid">
                                    <!-- 인구추이 -->
                                    <div class="stat-card">
                                        <div class="stat-header">
                                            <i class="fas fa-users"></i>
                                            <span>인구추이</span>
                                        </div>
                                        <div class="stat-content">
                                            <canvas id="populationChart" class="line-chart"></canvas>
                                            <div class="stat-value">
                                                <span class="main-value">958만</span>
                                                <span class="trend-down">▼ 2.1%</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- 연령대별 현황 -->
                                    <div class="stat-card">
                                        <div class="stat-header">
                                            <i class="fas fa-user-clock"></i>
                                            <span>연령대별 현황</span>
                                        </div>
                                        <div class="stat-content">
                                            <canvas id="ageChart" class="doughnut-chart"></canvas>
                                            <div class="stat-value">
                                                <span class="main-value">40대</span>
                                                <span class="sub-value">28% 최다</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- 전입지역 상위10 -->
                                    <div class="stat-card">
                                        <div class="stat-header">
                                            <i class="fas fa-map-marked-alt"></i>
                                            <span>전입지역 상위10</span>
                                        </div>
                                        <div class="stat-content">
                                            <div class="stat-value">
                                                <span class="main-value">강남구</span>
                                                <span class="sub-value">12.8%</span>
                                            </div>
                                            <div class="stat-detail" style="font-size: 11px; line-height: 1.4;">
                                                <span>1.강남구 2.서초구 3.송파구</span>
                                                <span>4.성남시 5.용인시 6.수원시</span>
                                                <span>7.고양시 8.인천시 9.파주시 10.하남시</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- 매수지역 -->
                                    <div class="stat-card">
                                        <div class="stat-header">
                                            <i class="fas fa-bullseye"></i>
                                            <span>매수지역 선호도</span>
                                        </div>
                                        <div class="stat-content">
                                            <canvas id="purchaseAreaChart" class="doughnut-chart"></canvas>
                                            <div class="stat-value">
                                                <span class="main-value">당해지역</span>
                                                <span class="sub-value">45%</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 주택시장 섹션 -->
                            <div class="stat-category">
                                <h3 class="category-title">
                                    <i class="fas fa-home"></i>
                                    주택시장
                                </h3>
                                <div class="stat-grid">
                                    <!-- 거래동향 -->
                                    <div class="stat-card">
                                        <div class="stat-header">
                                            <i class="fas fa-exchange-alt"></i>
                                            <span>거래동향</span>
                                        </div>
                                        <div class="stat-content">
                                            <canvas id="transactionChart" class="line-chart"></canvas>
                                            <div class="stat-value">
                                                <span class="main-value">3,600건</span>
                                                <span class="trend-up">▲ 9.1%</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- 가격동향 -->
                                    <div class="stat-card">
                                        <div class="stat-header">
                                            <i class="fas fa-chart-line"></i>
                                            <span>가격동향</span>
                                        </div>
                                        <div class="stat-content">
                                            <canvas id="priceIndexChart" class="line-chart"></canvas>
                                            <div class="stat-value">
                                                <span class="main-value">104.2</span>
                                                <span class="trend-up">▲ 1.9%</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- 세대수/매물동향 통합 -->
                                    <div class="stat-card">
                                        <div class="stat-header">
                                            <i class="fas fa-house-user"></i>
                                            <span>세대수/매물현황</span>
                                        </div>
                                        <div class="stat-content">
                                            <canvas id="householdChart" class="bar-chart"></canvas>
                                            <div class="stat-value">
                                                <span class="main-value">412만</span>
                                                <span class="sub-value">세대</span>
                                            </div>
                                            <div class="stat-detail">
                                                <span>매매: 3,200</span>
                                                <span>전세: 3,800</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- 매수심리 -->
                                    <div class="stat-card">
                                        <div class="stat-header">
                                            <i class="fas fa-brain"></i>
                                            <span>매수심리지수</span>
                                        </div>
                                        <div class="stat-content">
                                            <canvas id="sentimentChart" class="line-chart"></canvas>
                                            <div class="stat-value">
                                                <span class="main-value">87.5</span>
                                                <span class="trend-up">▲ 3.2</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- 공급분석 섹션 -->
                            <div class="stat-category">
                                <h3 class="category-title">
                                    <i class="fas fa-building"></i>
                                    공급분석
                                </h3>
                                <div class="stat-grid">
                                    <!-- 분양물량 -->
                                    <div class="stat-card">
                                        <div class="stat-header">
                                            <i class="fas fa-building"></i>
                                            <span>분양물량</span>
                                        </div>
                                        <div class="stat-content">
                                            <canvas id="supplyChart" class="bar-chart"></canvas>
                                            <div class="stat-value">
                                                <span class="main-value">24,000</span>
                                                <span class="sub-value">세대/년</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- 입주물량 -->
                                    <div class="stat-card">
                                        <div class="stat-header">
                                            <i class="fas fa-truck-moving"></i>
                                            <span>입주물량</span>
                                        </div>
                                        <div class="stat-content">
                                            <canvas id="moveInChart" class="bar-chart"></canvas>
                                            <div class="stat-value">
                                                <span class="main-value">28,000</span>
                                                <span class="sub-value">세대/년</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- 미분양 -->
                                    <div class="stat-card">
                                        <div class="stat-header">
                                            <i class="fas fa-warehouse"></i>
                                            <span>미분양</span>
                                        </div>
                                        <div class="stat-content">
                                            <canvas id="unsoldChart" class="line-chart"></canvas>
                                            <div class="stat-value">
                                                <span class="main-value">1,200</span>
                                                <span class="trend-down">▼ 14%</span>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <!-- 연간 분양수요 -->
                                    <div class="stat-card">
                                        <div class="stat-header">
                                            <i class="fas fa-calculator"></i>
                                            <span>연간 분양수요</span>
                                        </div>
                                        <div class="stat-content">
                                            <div class="stat-value">
                                                <span class="main-value">35,000</span>
                                                <span class="sub-value">세대</span>
                                            </div>
                                            <div class="stat-detail" style="font-size: 10px;">
                                                <span>전년미분양: 1,400</span>
                                                <span>금년분양: 24,000</span>
                                                <span>금년미분양: 1,200</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                        </div>
                        </div>
                    </section>

                    <!-- 부동산 뉴스 섹션 -->
                    <section id="news" class="data-section">
                    </section>

                    <!-- 분양현장 섹션 -->
                    <section id="bunyang-history" class="data-section">
                    </section>

                    <!-- 모집공고 섹션 -->
                    <section id="recruit-notice" class="data-section">
                    </section>
                </div>
            </main>
        </div>
    </div>

    <script src="script.js?v=7"></script>
    <script src="data-center-fixed.js?v=7"></script>
        <!-- Supabase 및 인증 관련 스크립트 -->
        <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
        <script src="js/config/supabase.js?v=7"></script>
        <script src="js/services/authService.js?v=7"></script>
        
        <!-- 기존 스크립트 -->
    <!-- ES6 모듈 메인 스크립트 -->
    <script type="module" src="js/main.js?v=7"></script>
    
</body>
</html>